{% extends "sacrud/types/SacrudBase.jinja2" %}

{% block sacrud_column %}

  {% include 'elfinder/elfinderhead.html' %}
  <script>
    function load_elfinder($id) {
        $('#elfinder_{{ col.name }}').elfinder({
            url : "{{ request.route_url('connector') }}",
            transport : new elFinderSupportVer1(),
            lang : 'ru',
            dialog : { width : 900, modal : true },
            getFileCallback: function(file) { // editor callback
                // actually file.url - doesnt work for me, but file does. (elfinder 2.0-rc1)
                document.getElementById($id).value = file.url;
            },
        })
    }
  </script>
  <div id="elfinder_{{ col.name }}"></div>
  <a href="#" onclick="load_elfinder('sacrud_unicode_{{ col.name }}');">Browse</a>
  <input type="text"
        class="sacrud_unicode {{ css_styles }}"
        id="sacrud_unicode_{{ col.name }}"
        name="{{ col.name }}"
        value="{{ value }}"
        />
{% endblock %}
